@use 'variables' as *;
@use 'mixins-clean' as *;

// Mobile-specific styles for Quiz List
.quiz-list-container {
  @include mobile {
    padding: $spacing-md;
    
    // Force list view on mobile for better UX
    &.grid-view,
    &.list-view {
      .items-grid {
        display: flex;
        flex-direction: column;
        gap: $spacing-md;
        
        .item-card {
          @include card-base;
          padding: $spacing-md;
          border-left: 4px solid;
          
          &.quiz-card {
            border-left-color: var(--quiz-color, $primary-color);
          }
          
          &.folder-card {
            border-left-color: $warning-color;
          }
          
          .card-header {
            @include flex-between;
            margin-bottom: $spacing-sm;
            
            .card-icon {
              width: 40px;
              height: 40px;
              border-radius: $radius-round;
              @include flex-center;
              
              &.quiz-icon {
                background: var(--quiz-color, $primary-color);
                color: $text-inverse;
              }
              
              &.folder-icon {
                background: rgba($warning-color, 0.1);
                color: $warning-color;
              }
              
              mat-icon {
                font-size: 20px;
              }
            }
            
            .card-actions {
              .action-btn {
                opacity: 1; // Always visible on mobile
                width: 32px;
                height: 32px;
                
                mat-icon {
                  font-size: 18px;
                }
              }
            }
          }
          
          .card-content {
            .card-title {
              font-size: 1.125rem;
              font-weight: 600;
              color: $text-primary;
              margin-bottom: $spacing-xs;
              @include text-truncate;
            }
            
            .card-description {
              font-size: 0.875rem;
              color: $text-secondary;
              margin-bottom: $spacing-sm;
              @include text-clamp(2);
            }
            
            .quiz-stats, .folder-stats {
              display: flex;
              flex-wrap: wrap;
              gap: $spacing-sm;
              margin-bottom: $spacing-sm;
              
              .stat-item {
                @include flex-center;
                gap: $spacing-xs;
                font-size: 0.75rem;
                color: $text-secondary;
                background: $bg-secondary;
                padding: $spacing-xs $spacing-sm;
                border-radius: $radius-md;
                
                mat-icon {
                  font-size: 14px;
                }
                
                &.difficulty {
                  font-weight: 500;
                }
              }
            }
            
            .quiz-tags {
              margin-top: $spacing-sm;
              
              mat-chip-set {
                display: flex;
                flex-wrap: wrap;
                gap: $spacing-xs;
                
                mat-chip {
                  background: rgba($primary-color, 0.1);
                  color: $primary-color;
                  font-size: 0.75rem;
                  height: 24px;
                  padding: 0 $spacing-sm;
                  border-radius: $radius-md;
                  
                  &.more-tags {
                    background: rgba($text-secondary, 0.1);
                    color: $text-secondary;
                  }
                }
              }
            }
          }
        }
      }
    }

    // Section titles
    .section-title {
      font-size: 1.125rem;
      font-weight: 600;
      color: $text-primary;
      margin-bottom: $spacing-md;
      padding: 0 $spacing-xs;
      @include flex-center;
      justify-content: flex-start;
      gap: $spacing-sm;
      
      mat-icon {
        font-size: 20px;
      }
    }

    // Loading state
    .loading-container {
      @include flex-center;
      min-height: 50vh;
      
      .loading-content {
        text-align: center;
        
        .loading-icon {
          font-size: 48px;
          color: $primary-color;
          animation: spin 1s linear infinite;
        }
        
        p {
          margin-top: $spacing-md;
          color: $text-secondary;
          font-size: 0.875rem;
        }
      }
    }

    // Empty state
    .empty-state {
      @include flex-center;
      min-height: 40vh;
      text-align: center;
      
      .empty-content {
        .empty-icon {
          font-size: 64px;
          color: $text-disabled;
          margin-bottom: $spacing-md;
        }
        
        h3 {
          font-size: 1.125rem;
          color: $text-primary;
          margin-bottom: $spacing-sm;
        }
        
        p {
          font-size: 0.875rem;
          color: $text-secondary;
        }
      }
    }

    // Touch-friendly interactions
    .item-card {
      min-height: 80px;
      touch-action: manipulation;
      
      &:active {
        transform: scale(0.98);
        transition: transform 0.1s ease;
      }
    }

    // Menu items larger touch targets
    .mat-mdc-menu-item {
      min-height: 48px;
      font-size: 0.875rem;
      
      mat-icon {
        margin-right: $spacing-sm;
        font-size: 18px;
      }
    }
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
